<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="fragments :: page_head(${pageTitle})"></head>
<body>
<div class="container-fluid">
	<div th:replace="navigation :: header_menu"></div>
	
	<div th:if="${listCategoryParents != null && !listCategoryParents.isEmpty()}">
		<div class="row">
			<div class="col">
				<nav>
					<ol class="breadcrumb">
						<li class="breadcrumb-item ">
							<a class="text-decoration-none" th:href="@{/static}">Home</a>
						</li>
<!--						list breadcrumb of parent category-->
						<th:block th:each="parent : ${listCategoryParents}">
						<li class="breadcrumb-item">
							<a class="text-decoration-none" th:href="@{'/c/' + ${parent.alias}}">[[${parent.name}]]</a>
						</li>
						</th:block>
					</ol>
				</nav>
			</div>
		</div>
	</div>
<!--	show children category-->
	
	<div class="row text-center">
		<th:block th:each="cat : ${category.children}">
			<div class="col" th:if="${cat.enabled == true}">
				<a class="text-decoration-none" th:href="@{'/c/' + ${cat.alias}}">
					<img alt="Category Image" th:src="@{${cat.imagePath}}" style="height: 100px" />
					<br/>
					<b>[[${cat.name}]]</b>
				</a>
			</div>
		</th:block>
	</div>
	
	<div class="row">
		<th:block th:each="product : ${listProducts}">
		<div class="col">
			<div>
				<a th:href="@{'/p/' + ${product.alias}}">
					<img th:src="@{${product.mainImagePath}}" style="width: 150px"  alt="Product Image"/>
					<br/>
					<b>[[${product.shortName}]]</b>
				</a>

			</div>
			<div th:if="${product.discountPercent <= 0}">
				<span>$ [[${product.price}]]</span>
			</div>
			<div th:if="${product.discountPercent > 0}">
				<span style="font-size: larger; color: darkred">$ [[${product.discountPrice}]]</span>
				<del>
					<span>$ [[${product.price}]]</span>
				</del>
			</div>
						
		</div>
		</th:block>
	</div>
	
	<div th:replace="fragments :: pagination('/c/' + ${category.alias}, 'product')"></div>
	
	<div th:replace="navigation :: footer_menu"></div>
</div>	
</body>
</html>